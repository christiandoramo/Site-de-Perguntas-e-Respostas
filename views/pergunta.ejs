
<%- include("partials/header.ejs") %>
<body>
    <div class="container">

        <%- include("partials/navbar.ejs") %>
        <h1>Pergunta: <%= titulo %></h1>
        <p>Descrição: <%= pergunta.descricao %></p>
        <hr>
        <form action="/responder" method="POST">
            <h3>Responda</h3>
            <label for="textResposta">Resposta: </label>
            <textarea id="textoResposta" class="form-control" name="corpo" cols="30" rows="10" placeholder="Digite sua resposta aqui"></textarea>
            <input type="hidden" name="pergunta" value="<%= pergunta.id %>">
            <button type="submit" class="btn btn-primary">Responder</button>
        </form>
        <br>
        <hr>
                <h3>Respostas</h3>
            <% if(respostas.length>0) { %>
                <% let numero = 1 %>
                <% respostas.forEach( resposta => { %>
                    <br>
                    <div class="card">
                        <div class="card-body">
                            <p><%= numero %>: <%= resposta.corpo %></p> <% numero = numero +1 %>
                        </div>
                    </div>
                <% }) %>
            <% } else { %> 
                <div class = "card">
                    <div class="card-body">
                    <p>Nenhuma resposta foi postada ainda</p>
                    </div>
                </div>
            <% } %> 
        </div>
    </div>
</body>
<%- include("partials/footer.ejs")  %> 